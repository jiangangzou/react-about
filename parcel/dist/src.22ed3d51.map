{"version":3,"sources":["src\\react\\create-element.js","src\\react\\component.js","src\\react\\index.js","src\\react-dom\\dom.js","src\\react-dom\\render.js","src\\react-dom\\index.js","src\\index.js"],"names":["createElement","tag","attrs","children","Component","props","isReactComponent","state","stateChange","Object","assign","setAttribute","dom","name","value","test","toLowerCase","style","cssText","removeAttribute","renderComponent","render","_render","vnode","textNode","document","createTextNode","console","log","component","createComponent","setComponentProps","base","keys","forEach","key","child","renderer","inst","prototype","container","appendChild","Counter","React","element","Date","toLocaleTimeString","ReactDOM","getElementById"],"mappings":"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","file":"src.22ed3d51.map","sourceRoot":"..","sourcesContent":["function createElement(tag, attrs, ...children) {\r\n    return {\r\n        tag,\r\n        attrs,\r\n        children\r\n    }\r\n}\r\n\r\nexport default  createElement;","class Component {\r\n    constructor (props = {}) {\r\n        this.isReactComponent = true;\r\n        this.state = {};\r\n        this.props = props;\r\n\r\n    }\r\n    setState (stateChange) {\r\n        Object.assign(this.state,stateChange);\r\n        \r\n    }\r\n}\r\nexport default Component;","import createElement from './create-element.js'\r\nimport Component from './component.js'\r\nexport default {\r\n    createElement,\r\n    Component\r\n}","export function setAttribute(dom,name,value){\r\n    if (name === 'className') name = 'class';\r\n    if (/on\\w+/.test(name)) {\r\n        name = name.toLowerCase();\r\n        dom[name] = value || '';\r\n    } else if (name === 'style'){\r\n        if(!value || typeof value === 'string'){\r\n            dom.style.cssText = value || '';\r\n        }else if (value &&typeof value === 'object') {\r\n            for (let name in value) {\r\n                dom.style[name] = typeof value[name] === 'number'?\r\n                value + 'px':value[name];\r\n            }\r\n        }\r\n        else{\r\n            if (value) {\r\n                dom.removeAttribute(name,value);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import {setAttribute} from './dom'\r\nfunction _render (vnode) {\r\n    if(typeof vnode === 'string'){\r\n        const textNode = document.createTextNode(vnode);\r\n        return textNode\r\n    }\r\n    if(typeof vnode.tag === 'function') {\r\n        // 在jsx 标签<Counter/> \r\n        // 普通标签就会来到_render 来执行\r\n        // 不普通 他是一个function Component\r\n        console.log(vnode);\r\n        const component = createComponent(vnode.tag,vnode.attrs)\r\n        setComponentProps(component,vnode.attrs)\r\n        return component.base\r\n    }\r\n    if(vnode.attrs){  \r\n        Object.keys(vnode.attrs).forEach(key=>{\r\n            const value = vnode.attrs[key];\r\n            setAttribute(dom,key,value);\r\n        })\r\n    }\r\n    const dom = document.createElement(vnode.tag);\r\n    vnode.children.forEach(child=>render(child,dom));\r\n    return dom\r\n}\r\nfunction setComponentProps(component,props) {\r\n    renderComponent(component);\r\n}\r\nexport function renderComponent(component){\r\n    let base;\r\n    const renderer = component.render();\r\n    base = _render(renderer)\r\n    component.base=base\r\n}\r\nfunction createComponent(component,props){\r\n    console.log(component,props)\r\n    let inst;\r\n    if(component.prototype &&component.prototype.render){\r\n        inst = new component(props)\r\n    }\r\n    return inst;\r\n}\r\nexport function render(vnode,container){\r\n    return container.appendChild(_render(vnode))\r\n}\r\n","import { render } from './render'\r\n\r\nexport default {\r\n    render\r\n}","import React from './react'\r\nimport ReactDOM from './react-dom'\r\n\r\nclass Counter extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n    render () {\r\n        return (\r\n            <div>\r\n                Counter\r\n                </div>\r\n        )\r\n    }\r\n}\r\nconst element = (\r\n    <div>\r\n        <h1>Hello, World!</h1>\r\n        <Counter />\r\n        <h2>It is { new Date().toLocaleTimeString()}.</h2>\r\n    </div>\r\n);\r\nReactDOM.render(\r\n    element,\r\n    document.getElementById('root')\r\n)\r\n\r\n\r\n// 为什么只要用ReactDOM, 但是在写react时，第一行还是引用 import React,{ Component } from 'react'\r\n"]}